<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GroupCart</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <style>
        html {
            display: table;
            margin: auto;
        }
        body {
            width: 390px;
            display: table-cell;
            vertical-align: middle;
        }
        .btn {
            display: flex;
            width: 175px;
            height: 55px;
            padding: 11.413px 18.261px;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
            border-radius: 13.696px;
            background: #6F6E8D;
            color: white;
            border: none;
            font-weight: bold;
        }
        
        #amigos {
            margin-top: -270px;
        }
        #head .row {
            height: 70px;
        }
        #tail .row {
            height:10px;
        }
        button  {
            margin-top: 10px;
        }
        .card {
            width: 150px;
        }
        #back {
            margin-top: -45px;
        }
        #del {
            display: flex;
            width: 175px;
            height: 55px;
            padding: 11.413px 18.261px;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
            border-radius: 13.696px;
            background: #E73D5C;
            color: white;
            border: none;
            font-weight: bold;
        }
     
    </style>
</head>
<body>
    <div class="container-fluid" id="head">
        <div class="row" style="background-color: #EE1E52;"></div>
        <div class="row" style="background-color: white;"></div>
        <div class="row" style="background-color: #69C9D0;"></div>
        <div class="row" style="background-color: black; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px;"></div>
        <div class="text-center" id="amigos">
            <img src="assets/illustration.png">
        </div>
        <div class="row">
            <div class="col-6">
            </div>
            <button onclick="window.location.href='group_buy_invitation.html'" type="button" class="btn">Invite More ></button>
        </div>
    </div>

    <div id="back">
        <a href="group_order.html">
            <img style="width: 20px;" src="assets/back.png">
        </a>
    </div>

    <div id="carts" class="container">
    
    </div>
    
    <div id="num">

    </div>

    <div class="container">
        <div class="d-flex justify-content-center">
            <button style="height: 35px;" onclick="window.location.href='payment.html'" type="button" class="btn delete">Confirm Order ></button>
        </div>
    </div>
    <div class="container">
        <div class="d-flex justify-content-center">
            <button style="height: 35px;" onclick="delOrder()" type="button" class="btn" id="del">Delete Order</button>
        </div>
    </div>

    <script>
        let people = ['alice', 'bob'];
        let carts = {'alice': ['Pants'], 'bob': ['Mini Folding Umbrella']}
        const price = {'Pants':12, 'Mini Folding Umbrella':10};
        for (person of people) {
            let subtotal = 0;
            for (item of carts[person]) {
            subtotal += price[item];
            }
            items = carts[person];
            no_items = items.length;
            let result = "<div class='row'>" + person + "'s cart</div>";
            for(item of items);
                result += "<div class='row border-0 shadow mx-auto rounded-3' style='height: 100px'>";
                result += "<div class='col'><img style='width: 100%; margin-top: 13px;' src='assets/" + item +".png' class='rounded-circle'></div>";
                result += "<div class='col-9 mt-2'><div>" + item + "</div>";
                result += `<div><div class='d-inline-block'><button class='border-1 bg-transparent rounded-3 me-3' onclick='remove(items, item)'>-</button>${no_items}<button class='border-1 bg-transparent rounded-3 ms-3' onclick='add(items, item)'>+</button></div><div class='d-inline-block ms-5'>$${subtotal}</div></div></div>`;
                result += "</div>";
            result += '</div>'
            document.getElementById("carts").innerHTML += result;
        }
    </script>
    
    <script>
        function delOrder() {
            confirm("Delete Order?");
        }
        function add(arr, item) {
            arr.push(item);
        }
        function remove(arr, item) {
            var index = arr.indexOf(item);
            if (index > -1) {
                arr.splice(index, 1)
            };
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>